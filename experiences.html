<!DOCTYPE html> 
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Experiences Page</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <script src="project-card.js" defer></script>
        <script src="project-card-loading.js" defer></script>
    </head>
    <body>
        <header>
            <nav aria-label="Primary">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="experiences.html">Experience</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <!-- <li><a href="experiments.html">Experiments</a></li>
                <li><a href="form-no-js.html">Form No JS</a></li>
                <li><a href="form-with-js.html">Form With JS</a></li> -->
                <li><a href="crud.html">CRUD</a></li>
            </ul>
            </nav>
        </header>

        <main>
            <h1>Work Experience</h1>
            <div class="button-row">
                <button id="load-local">Load Local</button>
                <button id="load-remote">Load Remote</button>
            </div>

            <h2>Industry</h2>
            <section id="cards-industry"></section>

            <h2>Academia</h2>
            <section id="cards-academia"></section>
        </main>

        <footer>
            <p>© 2025 Jenny M</p>
            <noscript><p>Some interactive features require JavaScript. Please enable JS.</p></noscript>
        </footer>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
            if (!localStorage.getItem("experienceData")) {
                console.log("Seeding localStorage from data.json...");
                
                fetch("data.json")
                .then(r => r.json())
                .then(data => {
                    localStorage.setItem("experienceData", JSON.stringify(data));
                    console.log("Initial seed complete.");
                })
                .catch(err => console.error("Failed to load data.json for initial seed:", err));
            } else {
                console.log("experienceData already exists — skipping seed.");
            }
            });
        </script>
    </body>
</html>